## Offshore wind calculator

### Quick description 
The notebook in this repo allows quick interactive wind power calculations using Panel. Users can estimate a wind turbine's output on rotor diameter and wind speed, and also site-wide energy production with adjustable parameters.

**The key parameters -  air density, energy pattern factor, efficiency, and turbine spacing factor — can be interactively adjusted in the app UI to see their effect on the results.**

### Calculations and assumptions
All calculation functions are created from formulas in Michael Ginsberg's book, except for the turbine installation calculation, which is derived from the paper by von Krauland et al. (supplemental).

I made a number of educated assumptions, based on the publications referenced. They are summarized below:

- **Lookup Tables:** Air density and wind speed values are from published sources for Northeast Atlantic US (von Krauland et al., 2023, and references therein) and are indexed by rotor diameter, region, and site.
- **Default Parameters:**
  - Air density defaults to 0.990 kg/m³ (200 m altitude) unless otherwise specified. Assuming Installation of Vestas' V236 15.0MW, or similar turbines.
  - Energy pattern factor is set to 1.91, corresponding to a Rayleigh wind speed distribution (Weibull k=2).
  - Efficiency factor for derating annual energy output cna be set to the range 20% -30%. This is a coservative value, well below the Betz Limit, lumping efficiency, partial wake, total wake effects, and so forth.
  - Turbine spacing factor is set to 5.98, following once again work cited in von Krauland et al.

These assumptions are intended to provide representative, but not site-specific, estimates.

---

## Running tests (Windows PowerShell)

Ensure the environment has the needed test dependencies, then run pytest using the interpreter to avoid PATH issues:

1) Update and activate the environment

  conda env update -f environment.yml ; conda activate wind-panel-app

2) Run all tests

  python -m pytest -q

3) Run a specific test function (example: annual power density cases)

  python -m pytest -q tests/test_wind_calculations.py::test_annual_power_density_known_values

4) Verbose output

  python -m pytest -v

If Hypothesis is not installed, property-based tests will be skipped automatically.

---

## Worked example

A reference calculation (useful as a regression check and for validating assumptions):

- Rotor diameter: 50 m
- Wind speed: 4.47 m/s
- Energy pattern factor (EPF): 1.91
- Air density: 1.225 kg/m³ (sea-level reference)
- Efficiency: 20%

Computed with the functions in `wind_calculations.py`:

- Annual power density: 104 W/m²
- Rotor swept area: 1,963.50 m²
- Power: 204 kW
- Annual energy output (non-derated): 1,787 MWh/year
- Derated annual energy output (20%): 357 MWh/year

These values are included as a unit test to help guard against regressions.

Source: Harness It (Michael Ginsberg, 2019). See References below.

---

## AI (Artificial Intelligence) and HI (Human Intelligence) Statement

_Modified from Brewin: [Why I wrote an AI transparency statement for my book—and think other authors should too](http://www.theguardian.com/books/2024/apr/04/why-i-wrote-an-ai-transparency-statement-for-my-book-and-think-other-authors-should-too)_

| Question | Answer |
|---|---|
| Have any code components been generated by HI? | Yes |
| Have any methods of analysis been developed and organized by HI? | Yes |
| Have any code components been generated by AI? | No |
| Have any code components been refactored or improved by AI? | Yes |
| Has any ancillary text in the code been generated by AI? | Yes |
| Has any documentation (other than README) been generated or improved by AI? | Yes |
| Has the README been improved by AI? | Yes |
| Have any tests been generated by AI? | Yes |
| Have any tests been recommended by HI? | Yes |
| Have any methods of analysis been developed and organized by AI? | No |
| Do any analyses utilize AI technologies, such as Large Language Models, for tasks like analyzing, summarizing, or retrieving information from data? | No |
| Has this AI/HI statement been improved by AI or HI? | Yes |

AI tooling details (optional)

- Assistant: GitHub Copilot (Chat) in VS Code
 - Session date(s): 2025-09-05 to 2025-09-18 (AI-assisted sessions; initial code implemented independently by HI on intervening days)
- Scope: Added/updated tests (including worked example), added property-test fallback shim, and updated README sections (Running tests, Worked example)
- Review: All AI outputs were reviewed and approved by the author (HI)

---

## References

- Michael Ginsberg (2019). Harness It. Business Expert Press.
- von Krauland, P., Musial, W., et al. (2023). United States offshore wind energy atlas. Applied Energy, 345, 121243. https://www.sciencedirect.com/science/article/pii/S2590174523000661
